{"version":3,"sources":["assets/js/iframe-lightbox.js"],"names":["root","document","docElem","documentElement","docBody","body","containerClass","iframeLightboxWindowIsBindedClass","iframeLightboxOpenClass","iframeLightboxLinkIsBindedClass","isLoadedClass","isOpenedClass","isShowingClass","isMobile","navigator","userAgent","match","isTouch","createTouch","undefined","msMaxTouchPoints","IframeLightbox","elem","settings","options","trigger","el","getElementsByClassName","content","src","dataset","href","getAttribute","dataPaddingBottom","paddingBottom","dataScrolling","scrolling","dataTouch","touch","rate","onOpened","onIframeLoaded","onLoaded","onCreated","onClosed","init","prototype","_this","create","debounce","func","wait","timeout","args","context","timestamp","slice","call","arguments","Date","later","last","setTimeout","apply","logic","open","handleIframeLightboxLink","e","stopPropagation","preventDefault","classList","contains","add","addEventListener","backdrop","createElement","appendChild","contentHolder","btnClose","close","ev","which","keyCode","clearBody","isOpen","remove","innerHTML","callCallback","loadIframe","iframeId","now","iframeSrc","html","push","join","iframe","getElementById","onload","style","opacity","removeAttribute","overflow","setAttribute","data","caller","bind","window"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,CAAC,UAASA,IAAT,EAAeC,QAAf,EAAyB;AACzB;;AAEA,MAAIC,OAAO,GAAGD,QAAQ,CAACE,eAAT,IAA4B,EAA1C;AACA,MAAIC,OAAO,GAAGH,QAAQ,CAACI,IAAT,IAAiB,EAA/B;AACA,MAAIC,cAAc,GAAG,iBAArB;AACA,MAAIC,iCAAiC,GAAG,mCAAxC;AACA,MAAIC,uBAAuB,GAAG,uBAA9B;AACA,MAAIC,+BAA+B,GAAG,iCAAtC;AACA,MAAIC,aAAa,GAAG,WAApB;AACA,MAAIC,aAAa,GAAG,WAApB;AACA,MAAIC,cAAc,GAAG,YAArB;AACA,MAAIC,QAAQ,GAAGC,SAAS,CAACC,SAAV,CAAoBC,KAApB,CACd,0GADc,CAAf;AAGA,MAAIC,OAAO,GACVJ,QAAQ,KAAK,IAAb,IACAZ,QAAQ,CAACiB,WAAT,KAAyBC,SADzB,IAEA,kBAAkBnB,IAFlB,IAGA,uBAAuBA,IAHvB,IAIAc,SAAS,CAACM,gBALX;;AAOA,MAAIC,cAAc,GAAG,SAASA,cAAT,CAAwBC,IAAxB,EAA8BC,QAA9B,EAAwC;AAC5D,QAAIC,OAAO,GAAGD,QAAQ,IAAI,EAA1B;AACA,SAAKE,OAAL,GAAeH,IAAf;AACA,SAAKI,EAAL,GAAUzB,QAAQ,CAAC0B,sBAAT,CAAgCrB,cAAhC,EAAgD,CAAhD,KAAsD,EAAhE;AACA,SAAKD,IAAL,GAAY,KAAKqB,EAAL,GAAU,KAAKA,EAAL,CAAQC,sBAAR,CAA+B,MAA/B,EAAuC,CAAvC,CAAV,GAAsD,EAAlE;AACA,SAAKC,OAAL,GAAe,KAAKF,EAAL,GACZ,KAAKA,EAAL,CAAQC,sBAAR,CAA+B,SAA/B,EAA0C,CAA1C,CADY,GAEZ,EAFH;AAGA,SAAKE,GAAL,GAAWP,IAAI,CAACQ,OAAL,CAAaD,GAAb,IAAoB,EAA/B;AACA,SAAKE,IAAL,GAAYT,IAAI,CAACU,YAAL,CAAkB,MAAlB,KAA6B,EAAzC;AACA,SAAKC,iBAAL,GAAyBX,IAAI,CAACQ,OAAL,CAAaI,aAAb,IAA8B,EAAvD;AACA,SAAKC,aAAL,GAAqBb,IAAI,CAACQ,OAAL,CAAaM,SAAb,IAA0B,EAA/C;AACA,SAAKC,SAAL,GAAiBf,IAAI,CAACQ,OAAL,CAAaQ,KAAb,IAAsB,EAAvC;AACA,SAAKC,IAAL,GAAYf,OAAO,CAACe,IAAR,IAAgB,GAA5B;AACA,SAAKH,SAAL,GAAiBZ,OAAO,CAACY,SAAzB;AACA,SAAKE,KAAL,GAAad,OAAO,CAACc,KAArB;AACA,SAAKE,QAAL,GAAgBhB,OAAO,CAACgB,QAAxB;AACA,SAAKC,cAAL,GAAsBjB,OAAO,CAACiB,cAA9B;AACA,SAAKC,QAAL,GAAgBlB,OAAO,CAACkB,QAAxB;AACA,SAAKC,SAAL,GAAiBnB,OAAO,CAACmB,SAAzB;AACA,SAAKC,QAAL,GAAgBpB,OAAO,CAACoB,QAAxB;AACA,SAAKC,IAAL;AACA,GAtBD;;AAwBAxB,EAAAA,cAAc,CAACyB,SAAf,CAAyBD,IAAzB,GAAgC,YAAY;AAC3C,QAAIE,KAAK,GAAG,IAAZ;;AAEA,QAAI,CAAC,KAAKrB,EAAV,EAAc;AACb,WAAKsB,MAAL;AACA;;AAED,QAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8B;AAC5C,UAAIC,OAAJ,EAAaC,IAAb,EAAmBC,OAAnB,EAA4BC,SAA5B;AACA,aAAO,YAAY;AAClBD,QAAAA,OAAO,GAAG,IAAV;AACAD,QAAAA,IAAI,GAAG,GAAGG,KAAH,CAASC,IAAT,CAAcC,SAAd,EAAyB,CAAzB,CAAP;AACAH,QAAAA,SAAS,GAAG,IAAII,IAAJ,EAAZ;;AAEA,YAAIC,KAAK,GAAG,SAASA,KAAT,GAAiB;AAC5B,cAAIC,IAAI,GAAG,IAAIF,IAAJ,KAAaJ,SAAxB;;AAEA,cAAIM,IAAI,GAAGV,IAAX,EAAiB;AAChBC,YAAAA,OAAO,GAAGU,UAAU,CAACF,KAAD,EAAQT,IAAI,GAAGU,IAAf,CAApB;AACA,WAFD,MAEO;AACNT,YAAAA,OAAO,GAAG,IAAV;AACAF,YAAAA,IAAI,CAACa,KAAL,CAAWT,OAAX,EAAoBD,IAApB;AACA;AACD,SATD;;AAWA,YAAI,CAACD,OAAL,EAAc;AACbA,UAAAA,OAAO,GAAGU,UAAU,CAACF,KAAD,EAAQT,IAAR,CAApB;AACA;AACD,OAnBD;AAoBA,KAtBD;;AAwBA,QAAIa,KAAK,GAAG,SAASA,KAAT,GAAiB;AAC5BjB,MAAAA,KAAK,CAACkB,IAAN;AACA,KAFD;;AAIA,QAAIC,wBAAwB,GAAG,SAASA,wBAAT,CAAkCC,CAAlC,EAAqC;AACnEA,MAAAA,CAAC,CAACC,eAAF;AACAD,MAAAA,CAAC,CAACE,cAAF;AACApB,MAAAA,QAAQ,CAACe,KAAD,EAAQ,KAAKzB,IAAb,CAAR,CAA2BkB,IAA3B;AACA,KAJD;;AAMA,QAAI,CAAC,KAAKhC,OAAL,CAAa6C,SAAb,CAAuBC,QAAvB,CAAgC9D,+BAAhC,CAAL,EAAuE;AACtE,WAAKgB,OAAL,CAAa6C,SAAb,CAAuBE,GAAvB,CAA2B/D,+BAA3B;AACA,WAAKgB,OAAL,CAAagD,gBAAb,CAA8B,OAA9B,EAAuCP,wBAAvC;;AAEA,UAAIjD,OAAO,KAAK8B,KAAK,CAACT,KAAN,IAAeS,KAAK,CAACV,SAA1B,CAAX,EAAiD;AAChD,aAAKZ,OAAL,CAAagD,gBAAb,CACC,YADD,EAECP,wBAFD;AAIA;AACD;AACD,GApDD;;AAsDA7C,EAAAA,cAAc,CAACyB,SAAf,CAAyBE,MAAzB,GAAkC,YAAY;AAC7C,QAAID,KAAK,GAAG,IAAZ;AAAA,QACC2B,QAAQ,GAAGzE,QAAQ,CAAC0E,aAAT,CAAuB,KAAvB,CADZ;;AAGAD,IAAAA,QAAQ,CAACJ,SAAT,CAAmBE,GAAnB,CAAuB,UAAvB;AACA,SAAK9C,EAAL,GAAUzB,QAAQ,CAAC0E,aAAT,CAAuB,KAAvB,CAAV;AACA,SAAKjD,EAAL,CAAQ4C,SAAR,CAAkBE,GAAlB,CAAsBlE,cAAtB;AACA,SAAKoB,EAAL,CAAQkD,WAAR,CAAoBF,QAApB;AACA,SAAK9C,OAAL,GAAe3B,QAAQ,CAAC0E,aAAT,CAAuB,KAAvB,CAAf;AACA,SAAK/C,OAAL,CAAa0C,SAAb,CAAuBE,GAAvB,CAA2B,SAA3B;AACA,SAAKnE,IAAL,GAAYJ,QAAQ,CAAC0E,aAAT,CAAuB,KAAvB,CAAZ;AACA,SAAKtE,IAAL,CAAUiE,SAAV,CAAoBE,GAApB,CAAwB,MAAxB;AACA,SAAK5C,OAAL,CAAagD,WAAb,CAAyB,KAAKvE,IAA9B;AACA,SAAKwE,aAAL,GAAqB5E,QAAQ,CAAC0E,aAAT,CAAuB,KAAvB,CAArB;AACA,SAAKE,aAAL,CAAmBP,SAAnB,CAA6BE,GAA7B,CAAiC,gBAAjC;AACA,SAAKK,aAAL,CAAmBD,WAAnB,CAA+B,KAAKhD,OAApC;AACA,SAAKF,EAAL,CAAQkD,WAAR,CAAoB,KAAKC,aAAzB;AACA,SAAKC,QAAL,GAAgB7E,QAAQ,CAAC0E,aAAT,CAAuB,QAAvB,CAAhB;AACA,SAAKG,QAAL,CAAcR,SAAd,CAAwBE,GAAxB,CAA4B,WAA5B;AAEA,SAAK9C,EAAL,CAAQkD,WAAR,CAAoB,KAAKE,QAAzB;AACA1E,IAAAA,OAAO,CAACwE,WAAR,CAAoB,KAAKlD,EAAzB;AACAgD,IAAAA,QAAQ,CAACD,gBAAT,CAA0B,OAA1B,EAAmC,YAAY;AAC9C1B,MAAAA,KAAK,CAACgC,KAAN;AACA,KAFD;AAGA,SAAKD,QAAL,CAAcL,gBAAd,CAA+B,OAA/B,EAAwC,YAAY;AACnD1B,MAAAA,KAAK,CAACgC,KAAN;AACA,KAFD;;AAIA,QAAI,CAAC7E,OAAO,CAACoE,SAAR,CAAkBC,QAAlB,CAA2BhE,iCAA3B,CAAL,EAAoE;AACnEL,MAAAA,OAAO,CAACoE,SAAR,CAAkBE,GAAlB,CAAsBjE,iCAAtB;AACAP,MAAAA,IAAI,CAACyE,gBAAL,CAAsB,OAAtB,EAA+B,UAASO,EAAT,EAAa;AAC3C,YAAI,QAAQA,EAAE,CAACC,KAAH,IAAYD,EAAE,CAACE,OAAvB,CAAJ,EAAqC;AACpCnC,UAAAA,KAAK,CAACgC,KAAN;AACA;AACD,OAJD;AAKA;;AAED,QAAII,SAAS,GAAG,SAASA,SAAT,GAAqB;AACpC,UAAIpC,KAAK,CAACqC,MAAN,EAAJ,EAAoB;AACnB;AACA;;AAEDrC,MAAAA,KAAK,CAACrB,EAAN,CAAS4C,SAAT,CAAmBe,MAAnB,CAA0BzE,cAA1B;;AAEAmC,MAAAA,KAAK,CAAC1C,IAAN,CAAWiF,SAAX,GAAuB,EAAvB;AACA,KARD;;AAUA,SAAK5D,EAAL,CAAQ+C,gBAAR,CAAyB,eAAzB,EAA0CU,SAA1C,EAAqD,KAArD;AACA,SAAKzD,EAAL,CAAQ+C,gBAAR,CAAyB,qBAAzB,EAAgDU,SAAhD,EAA2D,KAA3D;AACA,SAAKzD,EAAL,CAAQ+C,gBAAR,CAAyB,kBAAzB,EAA6CU,SAA7C,EAAwD,KAAxD;AACA,SAAKzD,EAAL,CAAQ+C,gBAAR,CAAyB,iBAAzB,EAA4CU,SAA5C,EAAuD,KAAvD;AACA,SAAKI,YAAL,CAAkB,KAAK5C,SAAvB,EAAkC,IAAlC;AACA,GArDD;;AAuDAtB,EAAAA,cAAc,CAACyB,SAAf,CAAyB0C,UAAzB,GAAsC,YAAY;AACjD,QAAIzC,KAAK,GAAG,IAAZ;;AAEA,SAAK0C,QAAL,GAAgBnF,cAAc,GAAGqD,IAAI,CAAC+B,GAAL,EAAjC;AACA,SAAKC,SAAL,GAAiB,KAAK9D,GAAL,IAAY,KAAKE,IAAjB,IAAyB,EAA1C;AACA,QAAI6D,IAAI,GAAG,EAAX;AACAA,IAAAA,IAAI,CAACC,IAAL,CACC,kBACC,KAAKF,SADN,GAEC,UAFD,GAGC,KAAKF,QAHN,GAIC,QAJD,GAKC,KAAKA,QALN,GAMC,uLAPF;AASAG,IAAAA,IAAI,CAACC,IAAL,CACC,+GADD;AAGA,SAAKxF,IAAL,CAAUiF,SAAV,GAAsBM,IAAI,CAACE,IAAL,CAAU,EAAV,CAAtB;;AAEA,KAAC,UAASL,QAAT,EAAmBpF,IAAnB,EAAyB;AACzB,UAAI0F,MAAM,GAAG9F,QAAQ,CAAC+F,cAAT,CAAwBP,QAAxB,CAAb;;AAEAM,MAAAA,MAAM,CAACE,MAAP,GAAgB,YAAY;AAC3B,aAAKC,KAAL,CAAWC,OAAX,GAAqB,CAArB;AACA9F,QAAAA,IAAI,CAACiE,SAAL,CAAeE,GAAf,CAAmB9D,aAAnB;;AAEA,YAAIqC,KAAK,CAACX,SAAN,IAAmBW,KAAK,CAACZ,aAA7B,EAA4C;AAC3C4D,UAAAA,MAAM,CAACK,eAAP,CAAuB,WAAvB;AACAL,UAAAA,MAAM,CAACG,KAAP,CAAaG,QAAb,GAAwB,QAAxB;AACA,SAHD,MAGO;AACNN,UAAAA,MAAM,CAACO,YAAP,CAAoB,WAApB,EAAiC,IAAjC;AACAP,UAAAA,MAAM,CAACG,KAAP,CAAaG,QAAb,GAAwB,QAAxB;AACA;;AAEDtD,QAAAA,KAAK,CAACwC,YAAN,CAAmBxC,KAAK,CAACN,cAAzB,EAAyCM,KAAzC;;AAEAA,QAAAA,KAAK,CAACwC,YAAN,CAAmBxC,KAAK,CAACL,QAAzB,EAAmCK,KAAnC;AACA,OAfD;AAgBA,KAnBD,EAmBG,KAAK0C,QAnBR,EAmBkB,KAAKpF,IAnBvB;AAoBA,GAxCD;;AA0CAgB,EAAAA,cAAc,CAACyB,SAAf,CAAyBmB,IAAzB,GAAgC,YAAY;AAC3C,SAAKuB,UAAL;;AAEA,QAAI,KAAKvD,iBAAT,EAA4B;AAC3B,WAAKL,OAAL,CAAasE,KAAb,CAAmBhE,aAAnB,GAAmC,KAAKD,iBAAxC;AACA,KAFD,MAEO;AACN,WAAKL,OAAL,CAAawE,eAAb,CAA6B,OAA7B;AACA;;AAED,SAAK1E,EAAL,CAAQ4C,SAAR,CAAkBE,GAAlB,CAAsB5D,cAAtB;AACA,SAAKc,EAAL,CAAQ4C,SAAR,CAAkBE,GAAlB,CAAsB7D,aAAtB;AACAT,IAAAA,OAAO,CAACoE,SAAR,CAAkBE,GAAlB,CAAsBhE,uBAAtB;AACAJ,IAAAA,OAAO,CAACkE,SAAR,CAAkBE,GAAlB,CAAsBhE,uBAAtB;AACA,SAAK+E,YAAL,CAAkB,KAAK/C,QAAvB,EAAiC,IAAjC;AACA,GAdD;;AAgBAnB,EAAAA,cAAc,CAACyB,SAAf,CAAyBiC,KAAzB,GAAiC,YAAY;AAC5C,SAAKrD,EAAL,CAAQ4C,SAAR,CAAkBe,MAAlB,CAAyB1E,aAAzB;AACA,SAAKN,IAAL,CAAUiE,SAAV,CAAoBe,MAApB,CAA2B3E,aAA3B;AACAR,IAAAA,OAAO,CAACoE,SAAR,CAAkBe,MAAlB,CAAyB7E,uBAAzB;AACAJ,IAAAA,OAAO,CAACkE,SAAR,CAAkBe,MAAlB,CAAyB7E,uBAAzB;AACA,SAAK+E,YAAL,CAAkB,KAAK3C,QAAvB,EAAiC,IAAjC;AACA,GAND;;AAQAvB,EAAAA,cAAc,CAACyB,SAAf,CAAyBsC,MAAzB,GAAkC,YAAY;AAC7C,WAAO,KAAK1D,EAAL,CAAQ4C,SAAR,CAAkBC,QAAlB,CAA2B5D,aAA3B,CAAP;AACA,GAFD;;AAIAU,EAAAA,cAAc,CAACyB,SAAf,CAAyByC,YAAzB,GAAwC,UAAUrC,IAAV,EAAgBqD,IAAhB,EAAsB;AAC7D,QAAI,OAAOrD,IAAP,KAAgB,UAApB,EAAgC;AAC/B;AACA;;AAED,QAAIsD,MAAM,GAAGtD,IAAI,CAACuD,IAAL,CAAU,IAAV,CAAb;AACAD,IAAAA,MAAM,CAACD,IAAD,CAAN;AACA,GAPD;;AASAvG,EAAAA,IAAI,CAACqB,cAAL,GAAsBA,cAAtB;AACA,CA3OD,EA2OG,gBAAgB,OAAOqF,MAAvB,GAAgCA,MAAhC,GAAyC,IA3O5C,EA2OkDzG,QA3OlD","file":"iframe-lightbox.3331f903.js","sourceRoot":"..","sourcesContent":["/*!\r\n * @see {@link https://github.com/englishextra/iframe-lightbox}\r\n * modified Simple lightbox effect in pure JS\r\n * @see {@link https://github.com/squeral/lightbox}\r\n * @see {@link https://github.com/squeral/lightbox/blob/master/lightbox.js}\r\n * @params {Object} elem Node element\r\n * @params {Object} settings object\r\n * el.lightbox = new IframeLightbox(elem, settings)\r\n * passes jshint\r\n */\r\n\r\n/*jslint browser: true */\r\n\r\n/*jslint node: true */\r\n\r\n/*jshint -W014 */\r\n(function(root, document) {\r\n\t\"use strict\";\r\n\r\n\tvar docElem = document.documentElement || \"\";\r\n\tvar docBody = document.body || \"\";\r\n\tvar containerClass = \"iframe-lightbox\";\r\n\tvar iframeLightboxWindowIsBindedClass = \"iframe-lightbox-window--is-binded\";\r\n\tvar iframeLightboxOpenClass = \"iframe-lightbox--open\";\r\n\tvar iframeLightboxLinkIsBindedClass = \"iframe-lightbox-link--is-binded\";\r\n\tvar isLoadedClass = \"is-loaded\";\r\n\tvar isOpenedClass = \"is-opened\";\r\n\tvar isShowingClass = \"is-showing\";\r\n\tvar isMobile = navigator.userAgent.match(\r\n\t\t/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i\r\n\t);\r\n\tvar isTouch =\r\n\t\tisMobile !== null ||\r\n\t\tdocument.createTouch !== undefined ||\r\n\t\t\"ontouchstart\" in root ||\r\n\t\t\"onmsgesturechange\" in root ||\r\n\t\tnavigator.msMaxTouchPoints;\r\n\r\n\tvar IframeLightbox = function IframeLightbox(elem, settings) {\r\n\t\tvar options = settings || {};\r\n\t\tthis.trigger = elem;\r\n\t\tthis.el = document.getElementsByClassName(containerClass)[0] || \"\";\r\n\t\tthis.body = this.el ? this.el.getElementsByClassName(\"body\")[0] : \"\";\r\n\t\tthis.content = this.el\r\n\t\t\t? this.el.getElementsByClassName(\"content\")[0]\r\n\t\t\t: \"\";\r\n\t\tthis.src = elem.dataset.src || \"\";\r\n\t\tthis.href = elem.getAttribute(\"href\") || \"\";\r\n\t\tthis.dataPaddingBottom = elem.dataset.paddingBottom || \"\";\r\n\t\tthis.dataScrolling = elem.dataset.scrolling || \"\";\r\n\t\tthis.dataTouch = elem.dataset.touch || \"\";\r\n\t\tthis.rate = options.rate || 500;\r\n\t\tthis.scrolling = options.scrolling;\r\n\t\tthis.touch = options.touch;\r\n\t\tthis.onOpened = options.onOpened;\r\n\t\tthis.onIframeLoaded = options.onIframeLoaded;\r\n\t\tthis.onLoaded = options.onLoaded;\r\n\t\tthis.onCreated = options.onCreated;\r\n\t\tthis.onClosed = options.onClosed;\r\n\t\tthis.init();\r\n\t};\r\n\r\n\tIframeLightbox.prototype.init = function () {\r\n\t\tvar _this = this;\r\n\r\n\t\tif (!this.el) {\r\n\t\t\tthis.create();\r\n\t\t}\r\n\r\n\t\tvar debounce = function debounce(func, wait) {\r\n\t\t\tvar timeout, args, context, timestamp;\r\n\t\t\treturn function () {\r\n\t\t\t\tcontext = this;\r\n\t\t\t\targs = [].slice.call(arguments, 0);\r\n\t\t\t\ttimestamp = new Date();\r\n\r\n\t\t\t\tvar later = function later() {\r\n\t\t\t\t\tvar last = new Date() - timestamp;\r\n\r\n\t\t\t\t\tif (last < wait) {\r\n\t\t\t\t\t\ttimeout = setTimeout(later, wait - last);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttimeout = null;\r\n\t\t\t\t\t\tfunc.apply(context, args);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (!timeout) {\r\n\t\t\t\t\ttimeout = setTimeout(later, wait);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\r\n\t\tvar logic = function logic() {\r\n\t\t\t_this.open();\r\n\t\t};\r\n\r\n\t\tvar handleIframeLightboxLink = function handleIframeLightboxLink(e) {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t\tdebounce(logic, this.rate).call();\r\n\t\t};\r\n\r\n\t\tif (!this.trigger.classList.contains(iframeLightboxLinkIsBindedClass)) {\r\n\t\t\tthis.trigger.classList.add(iframeLightboxLinkIsBindedClass);\r\n\t\t\tthis.trigger.addEventListener(\"click\", handleIframeLightboxLink);\r\n\r\n\t\t\tif (isTouch && (_this.touch || _this.dataTouch)) {\r\n\t\t\t\tthis.trigger.addEventListener(\r\n\t\t\t\t\t\"touchstart\",\r\n\t\t\t\t\thandleIframeLightboxLink\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tIframeLightbox.prototype.create = function () {\r\n\t\tvar _this = this,\r\n\t\t\tbackdrop = document.createElement(\"div\");\r\n\r\n\t\tbackdrop.classList.add(\"backdrop\");\r\n\t\tthis.el = document.createElement(\"div\");\r\n\t\tthis.el.classList.add(containerClass);\r\n\t\tthis.el.appendChild(backdrop);\r\n\t\tthis.content = document.createElement(\"div\");\r\n\t\tthis.content.classList.add(\"content\");\r\n\t\tthis.body = document.createElement(\"div\");\r\n\t\tthis.body.classList.add(\"body\");\r\n\t\tthis.content.appendChild(this.body);\r\n\t\tthis.contentHolder = document.createElement(\"div\");\r\n\t\tthis.contentHolder.classList.add(\"content-holder\");\r\n\t\tthis.contentHolder.appendChild(this.content);\r\n\t\tthis.el.appendChild(this.contentHolder);\r\n\t\tthis.btnClose = document.createElement(\"button\");\r\n\t\tthis.btnClose.classList.add(\"btn-close\");\r\n\r\n\t\tthis.el.appendChild(this.btnClose);\r\n\t\tdocBody.appendChild(this.el);\r\n\t\tbackdrop.addEventListener(\"click\", function () {\r\n\t\t\t_this.close();\r\n\t\t});\r\n\t\tthis.btnClose.addEventListener(\"click\", function () {\r\n\t\t\t_this.close();\r\n\t\t});\r\n\r\n\t\tif (!docElem.classList.contains(iframeLightboxWindowIsBindedClass)) {\r\n\t\t\tdocElem.classList.add(iframeLightboxWindowIsBindedClass);\r\n\t\t\troot.addEventListener(\"keyup\", function(ev) {\r\n\t\t\t\tif (27 === (ev.which || ev.keyCode)) {\r\n\t\t\t\t\t_this.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar clearBody = function clearBody() {\r\n\t\t\tif (_this.isOpen()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t_this.el.classList.remove(isShowingClass);\r\n\r\n\t\t\t_this.body.innerHTML = \"\";\r\n\t\t};\r\n\r\n\t\tthis.el.addEventListener(\"transitionend\", clearBody, false);\r\n\t\tthis.el.addEventListener(\"webkitTransitionEnd\", clearBody, false);\r\n\t\tthis.el.addEventListener(\"mozTransitionEnd\", clearBody, false);\r\n\t\tthis.el.addEventListener(\"msTransitionEnd\", clearBody, false);\r\n\t\tthis.callCallback(this.onCreated, this);\r\n\t};\r\n\r\n\tIframeLightbox.prototype.loadIframe = function () {\r\n\t\tvar _this = this;\r\n\r\n\t\tthis.iframeId = containerClass + Date.now();\r\n\t\tthis.iframeSrc = this.src || this.href || \"\";\r\n\t\tvar html = [];\r\n\t\thtml.push(\r\n\t\t\t'<iframe src=\"' +\r\n\t\t\t\tthis.iframeSrc +\r\n\t\t\t\t'\" name=\"' +\r\n\t\t\t\tthis.iframeId +\r\n\t\t\t\t'\" id=\"' +\r\n\t\t\t\tthis.iframeId +\r\n\t\t\t\t'\" onload=\"this.style.opacity=1;\" style=\"opacity:0;border:none;\" webkitallowfullscreen=\"true\" mozallowfullscreen=\"true\" allowfullscreen=\"true\" height=\"166\" frameborder=\"no\"></iframe>'\r\n\t\t);\r\n\t\thtml.push(\r\n\t\t\t'<div class=\"half-circle-spinner\"><div class=\"circle circle-1\"></div><div class=\"circle circle-2\"></div></div>'\r\n\t\t);\r\n\t\tthis.body.innerHTML = html.join(\"\");\r\n\r\n\t\t(function(iframeId, body) {\r\n\t\t\tvar iframe = document.getElementById(iframeId);\r\n\r\n\t\t\tiframe.onload = function () {\r\n\t\t\t\tthis.style.opacity = 1;\r\n\t\t\t\tbody.classList.add(isLoadedClass);\r\n\r\n\t\t\t\tif (_this.scrolling || _this.dataScrolling) {\r\n\t\t\t\t\tiframe.removeAttribute(\"scrolling\");\r\n\t\t\t\t\tiframe.style.overflow = \"scroll\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tiframe.setAttribute(\"scrolling\", \"no\");\r\n\t\t\t\t\tiframe.style.overflow = \"hidden\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_this.callCallback(_this.onIframeLoaded, _this);\r\n\r\n\t\t\t\t_this.callCallback(_this.onLoaded, _this);\r\n\t\t\t};\r\n\t\t})(this.iframeId, this.body);\r\n\t};\r\n\r\n\tIframeLightbox.prototype.open = function () {\r\n\t\tthis.loadIframe();\r\n\r\n\t\tif (this.dataPaddingBottom) {\r\n\t\t\tthis.content.style.paddingBottom = this.dataPaddingBottom;\r\n\t\t} else {\r\n\t\t\tthis.content.removeAttribute(\"style\");\r\n\t\t}\r\n\r\n\t\tthis.el.classList.add(isShowingClass);\r\n\t\tthis.el.classList.add(isOpenedClass);\r\n\t\tdocElem.classList.add(iframeLightboxOpenClass);\r\n\t\tdocBody.classList.add(iframeLightboxOpenClass);\r\n\t\tthis.callCallback(this.onOpened, this);\r\n\t};\r\n\r\n\tIframeLightbox.prototype.close = function () {\r\n\t\tthis.el.classList.remove(isOpenedClass);\r\n\t\tthis.body.classList.remove(isLoadedClass);\r\n\t\tdocElem.classList.remove(iframeLightboxOpenClass);\r\n\t\tdocBody.classList.remove(iframeLightboxOpenClass);\r\n\t\tthis.callCallback(this.onClosed, this);\r\n\t};\r\n\r\n\tIframeLightbox.prototype.isOpen = function () {\r\n\t\treturn this.el.classList.contains(isOpenedClass);\r\n\t};\r\n\r\n\tIframeLightbox.prototype.callCallback = function (func, data) {\r\n\t\tif (typeof func !== \"function\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar caller = func.bind(this);\r\n\t\tcaller(data);\r\n\t};\r\n\r\n\troot.IframeLightbox = IframeLightbox;\r\n})(\"undefined\" !== typeof window ? window : this, document);\r\n"]}